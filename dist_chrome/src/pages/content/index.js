r();const c=setInterval(r,5e3);let o=0,d=!0;function r(n){try{const e=document.createElement("script");e.src=chrome.runtime.getURL("src/pages/detector/index.js"),document.body.appendChild(e),e.onload=()=>{document.addEventListener("__KONVA_DEVTOOLS__DETECTION_RESULT",function(t){d&&chrome.runtime.sendMessage({type:"__KONVA_DEVTOOLS__BROADCAST_RESULT",result:t.detail}).catch(()=>{d=!1}).finally(()=>{t.detail||o>=10?clearInterval(c):o++}),e.remove(),n&&n(t.detail)}),document.dispatchEvent(new CustomEvent("__KONVA_DEVTOOLS__DETECT_KONVA"))}}catch(e){clearInterval(c),console.log(e)}}chrome.runtime.onMessage.addListener(function(n,e,t){return n.type==="__KONVA_DEVTOOLS__REQUEST_DETECTION"&&r(t),!0});
